#N canvas 0 0 1920 992 12;
#X obj 1 1 cnv 20 1920 1080 empty empty Le\ téléphone\ sonne 20 48 0 52 #fbe1e8 #404040 0;
#X obj 27 109 cnv 20 500 800 empty empty Toutes\ les\ 3\ minutes 20 28 0 28 #e0e0e0 #404040 0;
#X obj 542 111 cnv 20 500 800 empty empty Quelqu'un\ décroche 20 28 0 28 #e0e0e0 #404040 0;
#X obj 1054 111 cnv 20 500 800 empty empty Et\ on\ recommence 20 28 0 28 #e0e0e0 #404040 0;
#X text 625 37 GPIO 21 / broche 40 pour le pilotage du relais sonnerie et lumière \, le GPIO23 / broche 16 pour la récupération du combiné décroché ou non \, et le GPIO 24 / broche 18 pour la bouton Repeat;
#X msg 1085 71 \; pd dsp 1;
#X obj 1085 19 loadbang;
#X obj 1085 45 delay 1000;
#X text 1560 208 Sur le tel 1 et 2 on y met les 40 On démarre le premier défis à 1 Sur le tel 3 et 4 on y met les 40 On démarre le premier défis à 11 Sur le tel 5 et 6 on y met les 40 On démarre le premier défis à 21 Sur le tel 7 et 8 on y met les 40 On démarre le premier défis à 31;
#N canvas 0 36 1024 672 interface_telephone 0;
#X floatatom 541 722 4 0 0 0 - - - 0;
#X obj 606 723 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 30 466 tgl 42 0 empty empty empty 17 7 0 10 #ff0400 #000000 #000000 0 1;
#X obj 139 522 f;
#X obj 171 521 + 1;
#X msg 81 480 0;
#X floatatom 91 579 5 0 0 0 - - - 0;
#X obj 30 551 t b b;
#X msg 1170 552 start;
#X msg 1183 578 stop;
#X obj 1072 709 dac~ 1 2;
#X obj 1074 645 *~ 1;
#X obj 1111 644 *~ 1;
#X obj 1073 679 hip~ 5;
#X obj 1124 677 hip~ 5;
#X obj 1075 609 readsf~ 2;
#X floatatom 1043 160 4 0 0 0 - - - 0;
#X obj 1043 61 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 1043 183 change;
#X obj 1043 207 sel 0;
#X text 1091 244 BOUTON REPEAT;
#X obj 1043 236 bng 42 250 50 0 empty empty empty 0 -10 0 12 #ff8300 #000000 #000000;
#X floatatom 545 180 4 0 0 0 - - - 0;
#X obj 545 81 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 545 203 change;
#X obj 545 292 tgl 42 0 empty empty empty 0 -10 0 12 #c6ffc7 #000000 #000000 0 1;
#X obj 545 25 loadbang;
#X obj 1044 15 loadbang;
#X obj 30 523 metro 2000;
#X obj 205 522 % 11;
#X obj 196 547 sel 10;
#X obj 541 553 bng 42 250 50 0 empty empty empty 0 -10 0 12 #ff0400 #000000 #000000;
#X text 231 578 va jusqu'a 10;
#X obj 13 16 loadbang;
#X obj 13 67 tgl 42 0 empty empty empty 0 -10 0 12 #000000 #ffffff #000000 0 1;
#X obj 12 138 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 12 171 f;
#X obj 45 170 + 1;
#X obj 78 170 % 181;
#X floatatom 12 198 5 0 0 0 - - - 0;
#X obj 12 240 sel 0 180;
#X obj 42 268 bng 42 250 50 0 empty empty empty 0 -10 0 12 #00ff04 #ff0400 #000000;
#X text 539 529 FAIRE SONNER LE TÉLÉPHONE 1 FOIS;
#X text 29 442 FAIRE SONNER LE TELEPHONE 10 FOIS;
#X obj 13 114 metro 1000;
#X obj 541 699 ggee/shell;
#X obj 545 157 ggee/shell;
#X obj 1043 137 ggee/shell;
#X msg 1043 111 gpioget --bias=pull-up 0 24;
#X obj 1043 85 metro 100;
#X obj 545 107 metro 100;
#X msg 545 133 gpioget --bias=pull-up 0 23;
#X obj 541 628 t a b;
#X msg 541 601 gpioset --drive=open-drain gpiochip0 21=0;
#X msg 572 675 gpioset --drive=open-drain gpiochip0 21=1;
#X floatatom 30 733 4 0 0 0 - - - 0;
#X obj 97 736 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 30 710 ggee/shell;
#X msg 30 612 gpioset --drive=open-drain gpiochip0 21=0;
#X msg 53 686 gpioset --drive=open-drain gpiochip0 21=1;
#X obj 53 663 delay 1000;
#X obj 572 652 delay 1000;
#X obj 545 347 sel 0 1;
#X obj 42 319 t b b b b b;
#X msg 116 348 0;
#X msg 97 374 0;
#X text 91 277 3 MINUTES !;
#X msg 79 401 1;
#X obj 194 -36 delay 1000;
#X msg 252 398 stop;
#X msg 13 41 1;
#X obj 568 378 t b b b b b b b;
#X obj 1075 495 makefilename %d.wav;
#X msg 1075 523 open audio/\$1;
#X obj 1040 745 print fichier audio lu;
#X floatatom 1075 470 5 0 0 0 - - - 0;
#X obj 1276 280 bng 19 250 50 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000;
#X msg 1322 249 read numfichierdebut.txt;
#X obj 1276 154 loadbang;
#X obj 1276 226 t b b b;
#X msg 1299 274 rewind;
#X obj 1276 305 textfile;
#X obj 1276 207 bng 15 250 50 0 empty empty empty 0 -10 0 12 #bbbbbb #ff0400 #000000;
#X obj 1258 371 + 0;
#X floatatom 1276 325 5 0 0 0 - - - 0;
#X obj 1327 409 print 1er fichier audio;
#X obj 1043 415 f;
#X obj 1159 326 f;
#X obj 1188 325 + 1;
#X floatatom 1258 396 5 0 0 0 - - - 0;
#X floatatom 1159 352 5 0 0 0 - - - 0;
#X obj 1159 301 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 1043 439 t b f;
#X obj 1219 325 % 10;
#X obj 140 639 bng 42 250 50 0 empty empty empty 0 -10 0 12 #ff0400 #00ff04 #000000;
#X obj 30 639 t a b b;
#X text 196 650 ÇA SONNE !;
#X msg 47 41 0;
#X msg 201 577 stop;
#X obj 602 458 t b b b;
#X obj 545 408 t b b b b;
#X msg 48 142 175;
#X obj 545 265 spigot;
#X obj 584 231 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 357 189 tgl 42 0 empty empty empty 17 7 0 10 #ffc7c6 #000000 #000000 0 1;
#X msg 60 370 1;
#X obj 545 231 t f f;
#X msg 357 428 0;
#X obj 517 182 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 66 78 ON DÉCOMPTE LES 3 MN;
#X text 1315 324 1ER FICHIER 1 11 21 OU 31;
#X text 1074 160 BOUTON APPUYÉ;
#X text 1130 396 NUM DE FICHIER LU;
#X text 1117 469 NUM DE FICHIER LU;
#X text 212 200 ON PEUT DÉCROCHER !;
#X msg 357 163 0;
#X obj 139 577 t b b b;
#X obj 194 21 t b b;
#X text 564 77 On vérifie toutes les 100 ms;
#X text 1062 59 On vérifie toutes les 100 ms;
#X text 540 58 COMBINÉ DÉCROCHÉ ?;
#X text 1040 40 BOUTON REPEAT APPUYÉ ?;
#X text 579 179 BOUTON APPUYÉ;
#X msg 1189 300 1;
#X obj 1189 276 loadbang;
#X text 1028 352 RANG DE FICHIER LU;
#X text 1298 204 QUEL PREMIER FICHIER ?;
#X text 588 302 DÉCROCHÉ ! quand décroché case verte cochée;
#X connect 2 0 28 0;
#X connect 3 0 6 0;
#X connect 3 0 4 0;
#X connect 3 0 30 0;
#X connect 4 0 29 0;
#X connect 5 0 2 0;
#X connect 7 0 58 0;
#X connect 7 1 3 0;
#X connect 8 0 15 0;
#X connect 9 0 15 0;
#X connect 11 0 13 0;
#X connect 12 0 14 0;
#X connect 13 0 10 0;
#X connect 14 0 10 1;
#X connect 15 0 11 0;
#X connect 15 1 12 0;
#X connect 16 0 18 0;
#X connect 17 0 49 0;
#X connect 18 0 19 0;
#X connect 19 0 21 0;
#X connect 21 0 86 0;
#X connect 22 0 24 0;
#X connect 23 0 50 0;
#X connect 24 0 106 0;
#X connect 25 0 62 0;
#X connect 26 0 23 0;
#X connect 27 0 17 0;
#X connect 28 0 7 0;
#X connect 29 0 3 1;
#X connect 30 0 116 0;
#X connect 31 0 53 0;
#X connect 33 0 70 0;
#X connect 34 0 44 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 36 0 39 0;
#X connect 37 0 38 0;
#X connect 38 0 36 1;
#X connect 39 0 40 0;
#X connect 40 1 41 0;
#X connect 41 0 63 0;
#X connect 44 0 35 0;
#X connect 45 0 0 0;
#X connect 45 1 1 0;
#X connect 46 0 22 0;
#X connect 47 0 16 0;
#X connect 48 0 47 0;
#X connect 49 0 48 0;
#X connect 50 0 51 0;
#X connect 51 0 46 0;
#X connect 52 0 45 0;
#X connect 52 1 61 0;
#X connect 53 0 52 0;
#X connect 54 0 45 0;
#X connect 57 0 55 0;
#X connect 57 1 56 0;
#X connect 58 0 95 0;
#X connect 59 0 57 0;
#X connect 60 0 59 0;
#X connect 61 0 54 0;
#X connect 62 0 100 0;
#X connect 62 1 71 0;
#X connect 63 1 105 0;
#X connect 63 2 67 0;
#X connect 63 3 65 0;
#X connect 63 4 64 0;
#X connect 64 0 34 0;
#X connect 65 0 36 1;
#X connect 67 0 2 0;
#X connect 68 0 117 0;
#X connect 69 0 68 0;
#X connect 70 0 34 0;
#X connect 71 2 99 0;
#X connect 71 3 97 0;
#X connect 71 4 21 0;
#X connect 71 5 91 0;
#X connect 71 6 69 0;
#X connect 72 0 73 0;
#X connect 73 0 15 0;
#X connect 73 0 74 0;
#X connect 75 0 72 0;
#X connect 76 0 81 0;
#X connect 77 0 81 0;
#X connect 78 0 82 0;
#X connect 79 0 76 0;
#X connect 79 1 80 0;
#X connect 79 2 77 0;
#X connect 80 0 81 0;
#X connect 81 0 84 0;
#X connect 81 0 85 0;
#X connect 82 0 79 0;
#X connect 83 0 89 0;
#X connect 84 0 83 1;
#X connect 86 0 92 0;
#X connect 87 0 88 0;
#X connect 87 0 90 0;
#X connect 88 0 93 0;
#X connect 89 0 86 1;
#X connect 90 0 83 0;
#X connect 91 0 87 0;
#X connect 92 0 8 0;
#X connect 92 1 75 0;
#X connect 93 0 87 1;
#X connect 95 0 57 0;
#X connect 95 1 60 0;
#X connect 95 2 94 0;
#X connect 97 0 34 0;
#X connect 98 0 60 0;
#X connect 99 0 59 0;
#X connect 99 1 98 0;
#X connect 99 2 5 0;
#X connect 100 0 107 0;
#X connect 100 1 70 0;
#X connect 100 2 65 0;
#X connect 100 3 9 0;
#X connect 101 0 36 1;
#X connect 102 0 25 0;
#X connect 103 0 102 1;
#X connect 104 0 103 0;
#X connect 105 0 104 0;
#X connect 106 0 102 0;
#X connect 107 0 104 0;
#X connect 108 0 22 0;
#X connect 115 0 104 0;
#X connect 116 0 68 0;
#X connect 116 1 5 0;
#X connect 117 0 70 0;
#X connect 117 1 115 0;
#X connect 123 0 87 1;
#X connect 124 0 123 0;
#X coords 0 -1 1 1 1500 750 1 5 5;
#X restore 47 155 pd interface_telephone;
#X text 625 12 Branchements;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
